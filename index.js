"use strict";(()=>{function p(){class s{constructor(t){t&&(this.container=t,this.items=Array.from(this.container.children),this.items.length!==0&&(this.scrollX=0,this.smoothScrollX=0,this.touchStartY=0,this.touchDeltaY=0,this.previousDeltaY=0,this.cloneItems(),this.calculateDimensions(),this.init()))}cloneItems(){let t=document.createDocumentFragment(),e=document.createDocumentFragment();this.items.forEach(i=>{let o=i.cloneNode(!0),r=i.cloneNode(!0);t.appendChild(o),e.appendChild(r)}),this.container.insertBefore(t,this.container.firstChild),this.container.appendChild(e)}calculateDimensions(){this.totalWidth=0,Array.from(this.container.children).forEach(e=>{let i=e.getBoundingClientRect().width,o=parseFloat(getComputedStyle(e).marginRight);this.totalWidth+=i+o});let t=this.totalWidth/3;this.scrollX=t,this.smoothScrollX=t,this.container.style.transform=`translateX(${-this.scrollX}px)`}init(){this.bindEvents(),this.animate(),window.addEventListener("resize",()=>{this.calculateDimensions()})}bindEvents(){document.addEventListener("wheel",t=>this.handleWheel(t),{passive:!1}),document.addEventListener("touchstart",t=>this.handleTouchStart(t),{passive:!0}),document.addEventListener("touchmove",t=>this.handleTouchMove(t),{passive:!1}),document.addEventListener("touchend",()=>this.handleTouchEnd())}handleWheel(t){t.target.closest("button, input, textarea, select")||(t.preventDefault(),this.scrollX+=t.deltaY*1.5,this.handleInfiniteScroll())}handleTouchStart(t){this.touchStartY=t.touches[0].clientY,this.touchDeltaY=0,this.previousDeltaY=0}handleTouchMove(t){if(t.preventDefault(),window.innerWidth<750){let e=t.touches[0].clientY;this.touchDeltaY=e-this.touchStartY;let i=4;this.scrollX-=(this.touchDeltaY-this.previousDeltaY)*i,this.previousDeltaY=this.touchDeltaY}this.handleInfiniteScroll()}handleTouchEnd(){this.touchDeltaY=0,this.previousDeltaY=0}handleInfiniteScroll(){let t=this.totalWidth/3;this.scrollX<0?(this.scrollX+=t,this.smoothScrollX+=t):this.scrollX>this.totalWidth-t&&(this.scrollX-=t,this.smoothScrollX-=t)}animate(){this.smoothScrollX+=(this.scrollX-this.smoothScrollX)*.06,this.container.style.transform=`translateX(${-this.smoothScrollX}px)`,requestAnimationFrame(()=>this.animate())}}new s(document.querySelector(".slider-container"))}function m(){function s(){if(window.innerWidth<=500)return;let n=".slider-img-wrap";if(!document.querySelector(n))return;let t={threshold:100,friction:.91,scaleFactor:.004,maxScale:.5,moveFactor:.2,maxMove:40,velocityMultiplier:.05},e=0,i=0,o=!1,r=0,l=null;function c(){if(!o)return;if(i*=t.friction,Math.abs(i)<.1){o=!1,i=0,cancelAnimationFrame(l);return}let a=1-Math.min(Math.abs(i)*t.scaleFactor,t.maxScale),u=Math.min(Math.abs(i)*t.moveFactor,t.maxMove)*(i>0?1:-1);gsap.to(n,{scale:a,x:u,duration:1,ease:"power3.out"}),l=requestAnimationFrame(c)}function d(a){i+=a*t.velocityMultiplier,o||(o=!0,l=requestAnimationFrame(c))}function h(a){let u=a.touches[0].clientY,w=Date.now()-r;r=Date.now();let E=u-e;e=u,i+=E/w*t.velocityMultiplier*10,o||(o=!0,l=requestAnimationFrame(c)),a.preventDefault()}function v(a){e=a.touches[0].clientY,r=Date.now(),i=0}function S(){}window.addEventListener("wheel",a=>d(a.deltaY),{passive:!0}),window.addEventListener("touchstart",v,{passive:!1}),window.addEventListener("touchmove",h,{passive:!1}),window.addEventListener("touchend",S)}s()}function f(){let s=document.querySelectorAll(".slider-item");if(!s)return;window.innerWidth<500?gsap.fromTo(s,{clipPath:"inset(0 0 100% 0)",x:2e3,yPercent:100,opacity:1,transformOrigin:"center center"},{clipPath:"inset(0 0 0% 0)",x:0,yPercent:0,opacity:1,duration:2,ease:"expo.inOut",stagger:.05}):gsap.fromTo(s,{clipPath:"inset(0 0 100% 0)",x:3e3,yPercent:100,opacity:1,transformOrigin:"center center"},{clipPath:"inset(0 0 0% 0)",x:0,yPercent:0,opacity:1,duration:2,ease:"expo.inOut",stagger:.05});let n="power4.out",t=.8;gsap.utils.toArray(s).forEach((e,i,o)=>{let r=e.querySelector(".slider-name-text"),l=e.querySelector("img");gsap.set(r,{yPercent:200,rotate:3,clipPath:"inset(0% 0% 100% 0%)"}),gsap.set(l,{scale:1,filter:"grayscale(0%)"});let c=gsap.timeline({paused:!0}).to(r,{yPercent:0,rotate:0,clipPath:"inset(0% 0% -8% 0%)",duration:t,ease:n}).to(l,{scale:1.3,rotate:2,duration:t,ease:n},"<"),d=gsap.timeline({paused:!0}).to(r,{yPercent:200,rotate:3,clipPath:"inset(0% 0% 100% 0%)",duration:t,ease:n}).to(l,{scale:1,rotate:0,duration:t,ease:n},"<");e.addEventListener("mouseenter",()=>{d.isActive()&&d.progress(1),c.restart(),o.forEach(h=>{h!==e&&gsap.to(h.querySelector("img"),{filter:"grayscale(100%)",duration:t,ease:n})}),gsap.to(l,{filter:"grayscale(0%)",duration:t,ease:n})}),e.addEventListener("mouseleave",()=>{c.isActive()&&c.progress(1),d.restart(),o.forEach(h=>{gsap.to(h.querySelector("img"),{filter:"grayscale(0%)",duration:t,ease:n})})})})}function g(){gsap.ScrollTrigger&&gsap.ScrollTrigger.getAll().forEach(n=>n.kill());let s=document.querySelector("body");if(s){let n=s.querySelectorAll("[slider-text-load]"),t=s.querySelectorAll(".btn-link"),e=s.querySelectorAll(".theme-switch");if(n.length===0)return;n.forEach(i=>{let o=new SplitText(i,{type:"lines",linesClass:"line",mask:"lines"});o.lines.forEach(r=>{r.style.display="inline-block",r.style.width="100%",r.style.lineHeight="unset",r.style.visibility="hidden"}),o.lines.forEach(r=>r.offsetWidth),gsap.set(o.lines,{visibility:"visible",yPercent:100,clipPath:"inset(0% 0% 120% 0%)",opacity:1}),gsap.to(o.lines,{yPercent:0,clipPath:"inset(-20% -10% -10% 0%)",opacity:1,stagger:.12,duration:1.6,delay:.5,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 100%",end:"bottom 100%",toggleActions:"play none none reverse",once:!0}})}),gsap.set(t,{yPercent:100,clipPath:"inset(0% 0% 120% 0%)",opacity:1}),gsap.set(e,{yPercent:100,clipPath:"inset(0% 0% 120% 0%)",opacity:1}),gsap.to(t,{yPercent:0,clipPath:"inset(-20% -10% -10% 0%)",opacity:1,stagger:.12,duration:1.6,delay:.5,ease:"power3.out",scrollTrigger:{trigger:t[0],start:"top 100%",end:"bottom 100%",toggleActions:"play none none reverse",once:!0}}),gsap.to(e,{yPercent:0,clipPath:"inset(-20% -10% -10% 0%)",opacity:1,stagger:.12,duration:1.6,delay:.5,ease:"power3.out",scrollTrigger:{trigger:e[0],start:"top 100%",end:"bottom 100%",toggleActions:"play none none reverse",once:!0}})}}function y(){document.addEventListener("keydown",function(s){if(s.shiftKey&&s.key==="G"){let n=document.querySelector(".style-grid");if(n)n.remove();else{let t=document.createElement("div");t.className="style-grid";for(let e=0;e<12;e++){let i=document.createElement("div");t.appendChild(i)}document.body.appendChild(t)}}})}CustomEase.create("primary-ease","0.62, 0.05, 0.01, 0.99");CustomEase.create("primary-ease-out","0.17,0.84,0.44,1");function A(){let s=gsap.matchMedia();y(),p(),m(),f(),g()}document.addEventListener("DOMContentLoaded",()=>{A()});})();
